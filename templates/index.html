{% include "header.html" %}
<body>
<header id="main_menu" class="smooth h-100 w-50">
    <h1 class="p-3">森林</h1>
    <ul class='list-group p-3 w-25'>
        <li class='list-group-item list-group-item-dark' onclick="addNewList()">Add New List</li>
    </ul>
    <ul id="minimised_lists" class='p-3 w-50' >
        <li class='ps-3'>Minimised Lists:</li>
    </ul>
    <p class="position-absolute bottom-0 start-0 p-4">Your user key is {{user_key}}.<br>To access this page again please use this key to login.</p>
</header>

<div id="target">target</div>

<!-- Flexbox Container -->
<div class="container-fluid">


<!-- Bootstrap flexbox row -->
<div id="list_row" class="list_row row flex-nowrap smooth">

    {% for list in lists: %}

    <!-- Normal Lists -->
    <!-- individual list -->
    <div id="{{ list['list_id'] }}" class="list_wrapper smooth id align-self-start ms-2 p-0">
    <div class="list_sort_handle z-ind-0">  <!-- Sortables target handle -->
    <span class="material-icons drag_handle">drag_handle</span>

        <div class="list_header_wrapper smooth row justify-content-between z-ind-2">
            <div class="col-9">
                <h2 contentEditable="false" class="list_header">{{ list['list_name'] }}</h2>
            </div>
            <div class="col-3 z-ind-3 text-end">
                <span class="material-icons minimise" style="position: relative; top: -2px; left: 4px;">minimize</span>
                <span class="material-icons mt-2 remove">close</span>
            </div>
        </div>
    </div>  <!-- Sortables target handle end -->
    
    <!-- List content: contains individual cards -->
    <div class="list_content">

    <!-- Individual Cards -->
    {% for card in list['cards']: %}
    <div id="{{ card['card_id'] }}" class="card id">
        <div class="card_sort_handle"><span class="material-icons">drag_handle</span></div>
        <div class="row">
            <div class="edit_handle">
                <span class="material-icons">edit</span>
            </div>
            <div contentEditable="false" class="card_content content_main col-9">
                {{ card['card_body_html'] }}
                <!-- <a href="app/c/{{ card['card_id'] }}">{{ card['card_id'] }}</a> -->
                <span onclick="showFullscreen('{{ card['card_id'] }}')">{{ card['card_id'] }}</span>
            </div>
            <div class="content_side col-3">
            <ul class="metadata">
                <li>{{ card['card_id'] }}</li>
                <li>Tags</li>
                <li>Related Cards</li>
                <li>Share Link</li>
            </ul>
            </div>
        </div>  
    </div>
    {% endfor %}
    <!-- Individual Cards end -->
    </div> <!-- List content end -->

    <!--  List tool bar: appends the new card after the last child of the list content div-->
    <div class="list_tools row justify-content-between m-2 mt-1">
        <p class="col-2 material-icons card_new">add</p>
        <!-- <p class="col-2 material-icons text-center list_width">west</p> -->
    </div><!-- list tool bar end -->

    </div>
    <!-- individual list end -->
    {% endfor %}

</div>    <!-- Bootstrap flexbox row end -->
</div>    <!-- Flexbox Container end -->


</body>
{% include "footer.html" %}
